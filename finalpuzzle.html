<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>‚≠ê Star Grid Placement</title>
    <style>body {
        text-align: center;
        font-family: Arial, sans-serif;
        background-color: #f4f4f4;
        margin: 0;
        padding: 20px;
    }
    
    h1 {
        color: #333;
    }
    
    #input-container {
        margin-bottom: 20px;
    }
    
    #grid-container {
        display: inline-block;
        margin-top: 20px;
    }
    
    .grid-row {
        display: flex;
    }
    
    .grid-cell {
        width: 40px;
        height: 40px;
        border: 1px solid #999;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 24px;
        cursor: pointer;
        background-color: #fff;
    }
    
    .grid-cell:hover {
        background-color: #e0e0e0;
    }
    
    .star {
        color: gold;
    }
    
    #message {
        margin-top: 20px;
        font-weight: bold;
        font-size: 16px;
    }
    
    button {
        padding: 8px 12px;
        margin-top: 10px;
        cursor: pointer;
        border: none;
        background-color: #4CAF50;
        color: white;
        border-radius: 4px;
    }
    
    button:hover {
        background-color: #45a049;
    }
    
    .invalid {
        color: red;
    }
    
    .valid {
        color: green;
    }
    
    
    </style>
</head>
<body>
    <h1>‚≠ê Star Placement Grid ‚≠ê</h1>

    <div id="input-container">
        <label for="grid-size">Enter Grid Size (1-9): </label>
        <input type="number" id="grid-size" min="1" max="9" placeholder="Grid Size">
        <button onclick="createGrid()">Generate Grid</button>
    </div>

    <div id="message"></div>

    <div id="grid-container"></div>

    <button id="validate-btn" onclick="validateSolution()" style="display:none;">Validate Solution</button>

    <script >let gridSize = 0;
        let starGrid = [];
        
        function createGrid() {
            gridSize = parseInt(document.getElementById('grid-size').value);
            const gridContainer = document.getElementById('grid-container');
            const messageDiv = document.getElementById('message');
            gridContainer.innerHTML = '';
            messageDiv.innerText = '';
        
            if (isNaN(gridSize) || gridSize <= 0 || gridSize > 9) {
                messageDiv.innerText = "‚ùå Please enter a valid grid size (1-9)!";
                messageDiv.className = "invalid";
                return;
            }
        
            starGrid = Array.from({ length: gridSize }, () => Array(gridSize).fill(' '));
        
            for (let i = 0; i < gridSize; i++) {
                const rowDiv = document.createElement('div');
                rowDiv.classList.add('grid-row');
        
                for (let j = 0; j < gridSize; j++) {
                    const cell = document.createElement('div');
                    cell.classList.add('grid-cell');
                    cell.dataset.row = i;
                    cell.dataset.col = j;
                    cell.addEventListener('click', handleCellClick);
                    rowDiv.appendChild(cell);
                }
        
                gridContainer.appendChild(rowDiv);
            }
        
            document.getElementById('validate-btn').style.display = 'inline-block';
        }
        
        function handleCellClick(event) {
            const row = parseInt(event.target.dataset.row);
            const col = parseInt(event.target.dataset.col);
            const messageDiv = document.getElementById('message');
            messageDiv.innerText = '';
        
            if (starGrid[row][col] === '*') {
                // Remove star on second click
                starGrid[row][col] = ' ';
                event.target.innerText = '';
            } else {
                if (!canPlace(row, col) || !isSafe(row, col)) {
                    messageDiv.innerText = '‚ùå Cannot place star here!';
                    messageDiv.className = 'invalid';
                    return;
                }
        
                starGrid[row][col] = '*';
                event.target.innerText = '‚≠ê';
                event.target.classList.add('star');
            }
        }
        
        function canPlace(row, col) {
            for (let i = 0; i < gridSize; i++) {
                if (starGrid[row][i] === '*' || starGrid[i][col] === '*') {
                    return false; // Same row or column check
                }
            }
            return true;
        }
        
        function isSafe(row, col) {
            const directions = [
                [-1, -1], [-1, 0], [-1, 1],
                [0, -1],          [0, 1],
                [1, -1],  [1, 0], [1, 1]
            ];
        
            for (let [dx, dy] of directions) {
                const newRow = row + dx;
                const newCol = col + dy;
        
                if (
                    newRow >= 0 && newRow < gridSize &&
                    newCol >= 0 && newCol < gridSize &&
                    starGrid[newRow][newCol] === '*'
                ) {
                    return false; // Adjacent star found
                }
            }
            return true;
        }
        
        function validateSolution() {
            const messageDiv = document.getElementById('message');
        
            let valid = true;
            let starCount = 0;
        
            for (let i = 0; i < gridSize; i++) {
                let rowStars = 0;
                let colStars = 0;
        
                for (let j = 0; j < gridSize; j++) {
                    if (starGrid[i][j] === '*') rowStars++;
                    if (starGrid[j][i] === '*') colStars++;
                }
        
                if (rowStars > 1 || colStars > 1) {
                    valid = false;
                    break;
                }
        
                starCount += rowStars;
            }
        
            if (starCount !== gridSize) valid = false;
        
            if (valid) {
                messageDiv.innerText = "üéâ This is a VALID solution!";
                messageDiv.className = 'valid';
            } else {
                messageDiv.innerText = "‚ùå This is NOT a valid solution!";
                messageDiv.className = 'invalid';
            }
        }
        </script>
</body>
</html>
